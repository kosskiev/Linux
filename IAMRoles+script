# роли(aim) достура к aws это доступы для серверов и ли других api 
# мы можем настроить доступ чтобы сервер имел доступ к нашему s3 bucket (например только чтение или полный доступ)
 AIM > Roles > Creare Roles > AWS service > EC2 (разрешить доступ нашему AWS серверу(EC2) посылать запросы на AWS S3) > (выбрать Permision которые хоьтм дать)
# далее создаем сервера (можно приатачить(Attach IM ROLE) и к запущеным серверам)

# запускаем команду на сервере и проверяем доступные нам s3 корзины
aws s3 ls
# создать новую корзину (если не создается значит нет доступа)
aws s3 mb s3://namebucket

# при создании нового сервера выбираем созданные намиранее роли
# запустим еще скрипт при создании сервера который установим нужное нам ПО 

#!/bin/bash
echo"--------------------start----------------------"
sudo apt -y update
sudo apt -y install apache2
sudo snap install aws-cli --classic
sudo aws s3 sync s3://gatsby-bucket /var/www/html
sudo service apache2 start
echo"--------------------finish---------------------"

# данный скрипт сначала обновит а затем установит Apache2
# установит aws-cli 
# скопирует с s3 наш файл и положит его /var/www/html после этого перегрузит apache2 и по серверному ip отобразится наша страничка 
